# Ansible Playbook для Развертывания Telegram Бота

Этот проект содержит Ansible playbook для настройки Python Telegram бота и двух баз данных PostgreSQL. Playbook устанавливает необходимые компоненты и конфигурации, необходимые для работы бота и баз данных.

## Предварительные требования

Перед запуском playbook убедитесь, что выполнены следующие требования:

1. **Конфигурация SSH**: 
   - SSH должен быть установлен как на управляющей машине (где выполняется playbook), так и на целевых машинах (где будут развернуты бот и базы данных).
   - Убедитесь, что доступ по SSH настроен между управляющей машиной и целевыми машинами.

2. **Конфигурация пользователя**:
   - На целевых машинах создайте пользователя с именем `ansible`.
   - Добавьте пользователя `ansible` в файл `sudoers` с следующими привилегиями:
     ```
     ansible ALL=(ALL:ALL) NOPASSWD:ALL
     ```

3. **Программные требования на управляющей машине**:
   - Установите `sshpass`:
     ```sh
     sudo apt-get install sshpass
     ```
   - Установите `Ansible`:
     ```sh
     sudo apt-get install ansible
     ```

4. **Создание файла .env**:
   - В корне проекта создайте файл `.env` и добавьте в него следующие переменные:
     ```
     TOKEN = token - будет содержать токен бота
     RM_HOST = rm_host - будет содержать удаленный хост, который будем мониторить
     RM_PORT = rm_port - будет содержать порт удаленного хоста, к которому будем подключаться
     RM_USER = rm_user - будет содержать пользователя удаленного хоста
     RM_PASSWORD = rm_password - будет содержать пароль пользователя удаленного хоста
     DB_USER = db_user - будет содержать пользователя базы данных удаленного хоста
     DB_PASSWORD = db_password - будет содержать пароль пользователя базы данных удаленного хоста
     DB_HOST = db_host - будет содержать хост, в котором будет работать база данных
     DB_PORT = db_port - будет содержать порт, на котором работает база данных
     DB_DATABASE = db_database - будет содержать имя базы данных
     
     ```
### Конфигурация Ansible

Убедитесь, что файл `ansible.cfg` настроен правильно. И его переменные не расходятся с файлом `.env`
